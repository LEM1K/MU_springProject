<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

    <h1 class="manager_txt">관리자 페이지</h1>
    <table>
        <thead>
            <tr>
                <th>No.</th>
                <th>ID</th>
                <th>EMAIL</th>
                <th>PHONE</th>
                <th>D</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="memberlist : ${members}">
                <td class="member_num" th:text="${memberlist.id}"></td>
                <td class="member_id" th:text="${memberlist.username}"></td>
                <td class="member_email" th:text="${memberlist.email}"></td>
                <td class="member_phone" th:text="${memberlist.phone}"></td>
                <td><button type="button" th:onclick="'javascript:ondelete(' + ${memberlist.id} + ');'">삭제</button></td>
            </tr>
        </tbody>
    </table>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script th:inline="javascript">
        function ondelete(id) {

           $.ajax({
               url:'/member/delete/' + id,
               type: 'delete',
               success: function(result) {
                   console.log(result)

                   alert('삭제완료')

                   window.location.href='/admin/memberManager';
               }

           })
        }
    </script>
</body>
</html>